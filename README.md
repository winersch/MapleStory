# 메이플스토리 벨룸 모작 프로젝트

---

## 1. 프로젝트 개요

- **프로젝트명** : 메이플스토리 보스 몬스터 벨룸 모작  
- **기간** : 2024.08.20 ~ 2024.10.20  
- **역할** : 엔진 기능 추가 및 보스 패턴/플레이어 시스템 구현  
- **기반 엔진** : [YamYam Engine](https://github.com/eazuooz/YamYam_Engine)  
- **리소스 출처** : WzComparerR2-KMS를 통해 메이플스토리 `.wz` 파일에서 추출  

---

## 2. 사용 기술

- 언어/플랫폼 : C++, Visual Studio, Windows 10  
- 그래픽스 : DirectX11  
- 리소스 관리 : XML 기반 매핑, WzComparerR2 추출  
- 사운드 : FMOD  

---

## 3. 주요 기능

- **리소스 처리**
  - XML + PNG 기반 타일맵, 배경, 오브젝트, 캐릭터, 보스 애니메이션 로딩  

- **애니메이션**
  - 히트박스 포함 애니메이션 / hide 상태 지원  
  - **이벤트 콜백 시스템** → Start/Complete/End 시점에 로직 실행 가능  
  - Offset 데이터 기반으로 다양한 크기의 스프라이트 정렬 출력  
  - Flip 변수 추가로 좌/우 방향 출력 지원  

- **보스(벨룸)**
  - 지면 뚫기 (긴몸 / 짧은몸 / 광역)  
  - 파이어 스트라이크 공격 구현  
  - 애니메이션 프레임 기반 hide 처리 → 지면 위에 있을 때만 공격 가능  

- **플레이어**
  - 플래시 점프  
  - 팬텀 블로우

---

## 4. 문제 해결

- **리소스 관리 문제**  
  - 문제: 보스 및 맵 리소스를 불러올 방법이 없었음  
  - 해결: WzComparerR2의 **XML 내보내기 기능**을 활용 → XML 파서를 직접 구현하여 타일맵, 오브젝트, 보스, 스킬 리소스를 자동 로딩  

- **애니메이션 위치 문제**  
  - 문제: 스프라이트 크기가 제각각이라 출력 위치가 어긋남  
  - 해결: XML의 **origin 데이터**를 활용해 각 프레임의 출력 위치 보정 → 다양한 크기의 스프라이트를 자연스럽게 연결  

- **스프라이트 방향 문제**  
  - 문제: 리소스가 한 방향만 제공되어 반대 방향 출력 불가  
  - 해결: 애니메이션 호출 시 **flip 변수**를 추가 → 렌더링 시 반전 처리, 좌우 방향 모두 지원  

---

## 5. 시연 영상

▶ [YouTube Demo](https://youtu.be/axHwCE48rbk)
